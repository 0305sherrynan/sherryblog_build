import{B as k}from"./Banner-1ec366b1.js";import{b as B}from"./article-5c4a8d28.js";import{d as g,u as I,m as $,y as T,r as m,w as z,o as E,z as N,c as q,e as l,f as d,j as n,i as v,h as f,F as y,n as F,A as j,t as D,B as L,p as O,l as R,k as w,s as V,x as H,S as M}from"./index-dd2ca572.js";import"./index-fc906e2e.js";const P=a=>(O("data-v-ca08c8ac"),a=a(),R(),a),G={class:"left-article"},J=P(()=>n("div",{style:{"border-bottom":"1px solid rgb(228, 230, 235)","text-align":"center",padding:"10px"}},[n("span",{style:{"font-size":"14px","font-weight":"500","line-height":"20px"}},"目录")],-1)),K=["onClick"],Q={style:{cursor:"pointer"},class:"sidebar-a"},U=g({__name:"AsyncArticle",async setup(a){let o,_;const A=I(),i=([o,_]=$(()=>B(A.currentRoute.value.query.article_id).then(t=>t.data)),o=await o,_(),o);let p=T([]);i[0].title;let S=/<p[\s\S]+<\/div><\/p>/g;i[0].info=i[0].info.replace(S,"");let h=m(0);const x=m(!1),b=()=>{window.addEventListener("scroll",()=>{h.value=document.documentElement.scrollTop})};z(h,(t,r)=>{x.value=!0});const u=m();E(async()=>{b();const{proxy:t}=N(),r=t.$refs.preview.$el.querySelectorAll("h1,h2,h3,h4,h5,h6"),s=Array.from(r).filter(e=>!!e.innerText.trim()),c=Array.from(new Set(s.map(e=>e.tagName))).sort();p=Object.assign(p,s.map(e=>({title:e.innerText,lineIndex:e.getAttribute("data-v-md-line"),indent:c.indexOf(e.tagName)})))});const C=t=>{const{lineIndex:r}=t,s=u.value.$el.querySelector(`[data-v-md-line="${r}"]`);s&&u.value.scrollToTarget({target:s,scrollContainer:window,top:60})};return(t,r)=>{const s=q("v-md-preview-html");return l(),d(y,null,[n("div",G,[v(s,{html:f(i)[0].info,"preview-class":"github-markdown-body",ref_key:"preview",ref:u},null,8,["html"])]),n("div",{class:L(["right-toc",{isFix:x.value}])},[J,(l(!0),d(y,null,F(f(p),c=>(l(),d("div",{style:j({padding:`10px 0 10px ${c.indent*20}px`}),onClick:e=>C(c)},[n("a",Q,D(c.title),1)],12,K))),256))],2)],64)}}});const W=w(U,[["__scopeId","data-v-ca08c8ac"]]),X={class:"detail-box"},Y=g({__name:"index",setup(a){return(o,_)=>(l(),d("div",null,[v(k),n("div",X,[(l(),V(M,null,{default:H(()=>[v(W)]),_:1}))])]))}});const ne=w(Y,[["__scopeId","data-v-b2072dac"]]);export{ne as default};
